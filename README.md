# üë§ Authkit API

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π, —Ä–æ–ª—è–º–∏ (`admin`, `user`) –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **TypeScript**
- **Express**
- **Prisma** + MongoDB
- **Zod** ‚Äî –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **JWT + BcryptJS** ‚Äî –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **dotenv** ‚Äî –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **ESLint + Prettier** ‚Äî –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–∏–ª—è –∫–æ–¥–∞
- **Vitest** ‚Äî (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìö –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- üîê –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- üßæ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–∞)
- üìã –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)
- üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–∞–º —Å–µ–±—è –∏–ª–∏ –∞–¥–º–∏–Ω)
- üõ°Ô∏è Middleware'—ã –¥–ª—è –∑–∞—â–∏—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤

---

## üì° API –º–∞—Ä—à—Ä—É—Ç—ã

| –ú–µ—Ç–æ–¥ | –†–æ—É—Ç             | –ó–∞—â–∏—Ç–∞        | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|-------|------------------|---------------|-----------------------------------|
| POST  | /auth/register   | ‚ùå            | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è                       |
| POST  | /auth/login      | ‚ùå            | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è                       |
| GET   | /users/:id       | ‚úÖ auth       | –ü–æ–ª—É—á–µ–Ω–∏–µ —é–∑–µ—Ä–∞ –ø–æ ID             |
| GET   | /users           | ‚úÖ admin      | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π       |
| PATCH | /users/ban/:id   | ‚úÖ self/admin | –ó–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è             |
| PATCH | /users/unban/:id | ‚úÖ self/admin | –†–∞–∑–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è            |

---

## üß≠ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
üì¶ root
‚îú‚îÄ‚îÄ prisma/                    # Prisma ORM: —Å—Ö–µ–º–∞ –∏ —Å–∏–¥–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma
‚îÇ   ‚îî‚îÄ‚îÄ seed.ts
‚îÇ
‚îú‚îÄ‚îÄ src/                       # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ interfaces/           # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ç–∏–ø—ã –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ lib/                  # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, prisma client)
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/         # Middleware'—ã Express
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/            # Middleware, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π/–¥–æ—Å—Ç—É–ø–æ–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ modules/             # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–º–æ–¥—É–ª–∏: auth, user –∏ —Ç.–¥.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/            # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.controller.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.routes.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.schema.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.service.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user/            # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ user.controller.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ user.routes.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ user.schema.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ user.service.ts
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ app.ts               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ env.ts               # –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ index.ts             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ router.ts            # –ì–ª–∞–≤–Ω—ã–π —Ä–æ—É—Ç–µ—Ä
‚îÇ
‚îú‚îÄ‚îÄ test/                     # –¢–µ—Å—Ç—ã (–µ—Å–ª–∏ –±—É–¥—É—Ç)
‚îú‚îÄ‚îÄ types/                    # –†–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–∏–ø–æ–≤ Express –∏ –æ–±—â–∏–µ —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ª–æ–∫–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .eslint.config.mjs        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ .package.json							# –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ .pnpm-lock.yaml
‚îú‚îÄ‚îÄ .README.md
‚îî‚îÄ‚îÄ .tsconfig.json            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- `npx prisma studio` - –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–¥
- `pnpm run seed` - –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/your-username/authkit.git
cd authkit
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ 
```bash
pnpm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è 
- –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ .env.example –Ω–∞ .env
- –£–∫–∞–∂–∏—Ç–µ url –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ `DATABASE_URL` 

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞
> _–°–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:_
> email: 'admin@admin.com',
>	fullname: 'Admin',
>	password: 123456,
 
```bash
pnpm run seed
```

### 5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
```bash
npx prisma generate
```
_(—Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª–∏–µ–Ω—Ç Prisma)_

### 6. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
pnpm run dev
```
_–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000_

